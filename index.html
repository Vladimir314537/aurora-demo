<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aurora WOW Edition 4.1</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --accent: #06b6d4;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --background: #0f172a;
            --surface: #1e293b;
            --text: #f1f5f9;
            --text-secondary: #94a3b8;
            --border: #334155;
            --shadow: rgba(0, 0, 0, 0.3);
            --neon-glow: 0 0 20px var(--accent);
        }

        body {
            background: var(--background);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(99, 102, 241, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(139, 92, 246, 0.1) 0%, transparent 50%);
        }

        /* WOW Container –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π */
        .wow-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            overflow: hidden;
        }

        /* –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ */
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            opacity: 0.8;
            animation: fall linear forwards;
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* –ù–µ–æ–Ω–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã */
        .neon-glow {
            animation: neonPulse 2s infinite alternate;
        }

        @keyframes neonPulse {
            from {
                box-shadow: 0 0 5px var(--accent),
                           0 0 10px var(--accent),
                           0 0 15px var(--accent);
            }
            to {
                box-shadow: 0 0 10px var(--accent),
                           0 0 20px var(--accent),
                           0 0 30px var(--accent),
                           0 0 40px var(--secondary);
            }
        }

        /* 3D –∫–∞—Ä—Ç–æ—á–∫–∏ */
        .note-card {
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .note-card:hover {
            transform: translateY(-10px) rotateX(5deg);
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π */
        .header {
            text-align: center;
            padding: 40px 20px;
            margin-bottom: 40px;
            position: relative;
        }

        .header h1 {
            font-size: 3.5rem;
            background: linear-gradient(135deg, var(--primary), var(--accent), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 10px;
            animation: gradientShift 3s infinite alternate;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .header p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
        }

        /* –ü–∞–Ω–µ–ª—å –ø–æ–∏—Å–∫–∞ */
        .search-container {
            background: var(--surface);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            border: 1px solid var(--border);
            box-shadow: 0 10px 40px var(--shadow);
            transition: all 0.3s;
        }

        .search-container:focus-within {
            border-color: var(--accent);
            box-shadow: var(--neon-glow);
        }

        .search-box {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        #searchInput {
            flex: 1;
            padding: 18px 25px;
            border: 2px solid var(--border);
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text);
            font-size: 1.1rem;
            transition: all 0.3s;
        }

        #searchInput:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(6, 182, 212, 0.2);
        }

        #searchButton {
            padding: 0 35px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        #searchButton:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.4);
        }

        #searchButton:active {
            transform: translateY(0);
        }

        /* –ö–Ω–æ–ø–∫–∞ –∑–≤—É–∫–∞ */
        .sound-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 10000;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 2px solid var(--accent);
            color: var(--accent);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .sound-toggle:hover {
            background: rgba(6, 182, 212, 0.2);
            transform: scale(1.1);
        }

        .sound-toggle.muted {
            opacity: 0.5;
            border-color: var(--text-secondary);
            color: var(--text-secondary);
        }

        /* –î–µ–º–æ –ø–∞–Ω–µ–ª—å */
        .demo-panel {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            border: 1px solid rgba(99, 102, 241, 0.3);
        }

        .demo-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .demo-button {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text);
            cursor: pointer;
            transition: all 0.3s;
        }

        .demo-button:hover {
            background: rgba(99, 102, 241, 0.2);
            border-color: var(--primary);
        }

        /* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ */
        .results-container {
            margin-top: 30px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s;
        }

        .results-container.show {
            opacity: 1;
            transform: translateY(0);
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }

        #resultsCount {
            font-size: 1.2rem;
            color: var(--accent);
        }

        #clearResults {
            padding: 8px 16px;
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
            border: 1px solid var(--danger);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        #clearResults:hover {
            background: rgba(239, 68, 68, 0.2);
        }

        /* –ö–∞—Ä—Ç–æ—á–∫–∏ –∑–∞–º–µ—Ç–æ–∫ */
        .notes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .note-card {
            background: var(--surface);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid var(--border);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .note-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            opacity: 0;
            transition: opacity 0.3s;
        }

        .note-card:hover::before {
            opacity: 1;
        }

        .note-card.matched {
            animation: matchHighlight 0.6s ease;
        }

        @keyframes matchHighlight {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .note-text {
            font-size: 1.1rem;
            line-height: 1.5;
            margin-bottom: 15px;
        }

        .note-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 15px;
        }

        .tag {
            background: rgba(99, 102, 241, 0.1);
            color: var(--primary);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            border: 1px solid rgba(99, 102, 241, 0.3);
        }

        .tag.highlight {
            background: rgba(6, 182, 212, 0.2);
            color: var(--accent);
            border-color: var(--accent);
            animation: tagPulse 1s infinite;
        }

        @keyframes tagPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* –ü–∞–Ω–µ–ª—å —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–º–µ—Ç–æ–∫ */
        .create-note {
            background: var(--surface);
            border-radius: 20px;
            padding: 30px;
            margin-top: 40px;
            border: 1px solid var(--border);
        }

        .create-note h3 {
            margin-bottom: 20px;
            color: var(--accent);
            font-size: 1.5rem;
        }

        #newNoteInput {
            width: 100%;
            min-height: 120px;
            padding: 20px;
            border: 2px solid var(--border);
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text);
            font-size: 1.1rem;
            resize: vertical;
            transition: all 0.3s;
            margin-bottom: 20px;
        }

        #newNoteInput:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(6, 182, 212, 0.2);
        }

        #addNoteButton {
            padding: 15px 40px;
            background: linear-gradient(135deg, var(--success), #0da271);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        #addNoteButton:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.4);
        }

        /* –°—Ç–∞—Ç—É—Å –±–∞—Ä */
        .status-bar {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(30, 41, 59, 0.9);
            backdrop-filter: blur(10px);
            padding: 12px 25px;
            border-radius: 50px;
            border: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 1000;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.3);
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .status-item .icon {
            color: var(--accent);
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }
            
            .search-box {
                flex-direction: column;
            }
            
            #searchButton {
                width: 100%;
                padding: 18px;
            }
            
            .notes-grid {
                grid-template-columns: 1fr;
            }
            
            .status-bar {
                width: calc(100% - 40px);
                justify-content: space-between;
                flex-wrap: wrap;
            }
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ */
        .searching::after {
            content: '';
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-left: 10px;
            border: 2px solid var(--accent);
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è WOW-—ç—Ñ—Ñ–µ–∫—Ç–æ–≤ -->
    <div class="wow-container" id="wowContainer"></div>
    
    <!-- –ö–Ω–æ–ø–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–≤—É–∫–æ–º -->
    <button class="sound-toggle" id="soundToggle" title="–í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫">üîä</button>
    
    <div class="container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <header class="header">
            <h1 class="neon-glow">üåå Aurora</h1>
            <p>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º—ã—à–ª–µ–Ω–∏—è —Å —É–º–Ω—ã–º –ø–æ–∏—Å–∫–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–Ω–∏–º–∞–µ—Ç –≤–∞—Å</p>
            <div class="demo-panel">
                <p>üé≠ <strong>WOW-–¥–µ–º–æ:</strong> –°–∏—Å—Ç–µ–º–∞ –ø–æ–Ω–∏–º–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º—ã —Å–ª–æ–≤!</p>
                <div class="demo-buttons">
                    <button class="demo-button" onclick="demoSearch('–ø–æ–π–¥—É –≥—É–ª—è—Ç—å')">–ü–æ–π–¥—É –≥—É–ª—è—Ç—å</button>
                    <button class="demo-button" onclick="demoSearch('–∞–ª–∫–æ–≥–æ–ª—å')">–ù–∞–π—Ç–∏ –∞–ª–∫–æ–≥–æ–ª—å</button>
                    <button class="demo-button" onclick="showAllNotes()">–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∑–∞–º–µ—Ç–∫–∏</button>
                    <button class="demo-button" onclick="triggerWowEffects()">üî• WOW-—ç—Ñ—Ñ–µ–∫—Ç—ã</button>
                </div>
            </div>
        </header>
        
        <!-- –ü–∞–Ω–µ–ª—å –ø–æ–∏—Å–∫–∞ -->
        <section class="search-container">
            <div class="search-box">
                <input 
                    type="text" 
                    id="searchInput" 
                    placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –∑–∞–ø—Ä–æ—Å... –ù–∞–ø—Ä–∏–º–µ—Ä: '–ø–æ–π–¥—É –≥—É–ª—è—Ç—å' –∏–ª–∏ '–∞–ª–∫–æ–≥–æ–ª—å'"
                    autocomplete="off"
                >
                <button id="searchButton">
                    üîç –ù–∞–π—Ç–∏
                </button>
            </div>
            
            <div class="results-container" id="resultsContainer">
                <div class="results-header">
                    <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞</h3>
                    <div>
                        <span id="resultsCount">0 —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π</span>
                        <button id="clearResults" style="margin-left: 15px;">–û—á–∏—Å—Ç–∏—Ç—å</button>
                    </div>
                </div>
                <div class="notes-grid" id="notesGrid">
                    <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∑–∞–º–µ—Ç–æ–∫ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                </div>
            </div>
        </section>
        
        <!-- –ü–∞–Ω–µ–ª—å —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–º–µ—Ç–æ–∫ -->
        <section class="create-note">
            <h3>‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–º–µ—Ç–∫—É</h3>
            <textarea 
                id="newNoteInput" 
                placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∑–∞–º–µ—Ç–∫–∏... –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞"
            ></textarea>
            <button id="addNoteButton">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–º–µ—Ç–∫—É</button>
        </section>
    </div>
    
    <!-- –°—Ç–∞—Ç—É—Å –±–∞—Ä -->
    <div class="status-bar">
        <div class="status-item">
            <span class="icon">üîí</span>
            <span>–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ</span>
        </div>
        <div class="status-item">
            <span class="icon">üéØ</span>
            <span>–£–º–Ω—ã–π –ø–æ–∏—Å–∫</span>
        </div>
        <div class="status-item">
            <span class="icon">‚ú®</span>
            <span>WOW Edition 4.1</span>
        </div>
    </div>

    <!-- –ê—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –∑–≤—É–∫–æ–≤ -->
    <audio id="searchSound" preload="auto">
        <source src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEAQB8AAEAfAAABAAgAZGF0YQ" type="audio/wav">
    </audio>
    
    <audio id="successSound" preload="auto">
        <source src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEAQB8AAEAfAAABAAgAZGF0YQ" type="audio/wav">
    </audio>
    
    <audio id="noteSound" preload="auto">
        <source src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEAQB8AAEAfAAABAAgAZGF0YQ" type="audio/wav">
    </audio>

    <script>
        // ============================================
        // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ò –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï
        // ============================================
        
        // –°–∏–Ω–æ–Ω–∏–º—ã –¥–ª—è —É–º–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
        const synonymMap = {
            '–∞–ª–∫–æ–≥–æ–ª—å': ['–ø–∏–≤–æ', '–≤–∏–Ω–æ', '–≤–æ–¥–∫–∞', '–∫–æ–Ω—å—è–∫', '—à–∞–º–ø–∞–Ω—Å–∫–æ–µ', '–ª–∏–∫–µ—Ä', '—Å–ø–∏—Ä—Ç–Ω–æ–µ', '–∞–ª–∫–æ–≥–æ–ª—å–Ω—ã–π'],
            '–≥—É–ª—è—Ç—å': ['–ø—Ä–æ–≥—É–ª—è—Ç—å—Å—è', '–ø—Ä–æ–π—Ç–∏—Å—å', '–ø–æ–π—Ç–∏', '—Ö–æ–¥–∏—Ç—å', '–≥—É–ª—è–Ω–∏–µ', '–ø—Ä–æ–≥—É–ª–∫–∞'],
            '–ø–∏–≤–æ': ['–ø–∏–≤–∫–æ', '–ø–∏–≤–∞—Å–∏–∫', '—Ö–º–µ–ª—å–Ω–æ–µ', '—ç–ª—å', '–ª–∞–≥–µ—Ä'],
            '–≤–∏–Ω–æ': ['–≤–∏–Ω—Ü–æ', '–∫—Ä–∞—Å–Ω–æ–µ', '–±–µ–ª–æ–µ', '–∏–≥—Ä–∏—Å—Ç–æ–µ', '—à–∞–º–ø–∞–Ω—Å–∫–æ–µ'],
            '—Ä–∞–±–æ—Ç–∞': ['–∑–∞–¥–∞—á–∞', '–ø—Ä–æ–µ–∫—Ç', '–¥–µ–ª–æ', '–∑–∞–¥–∞–Ω–∏–µ', '—Ç—Ä—É–¥'],
            '—Å–ø–æ—Ä—Ç': ['—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞', '—Ñ–∏—Ç–Ω–µ—Å', '–∑–∞–ª', '—É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è'],
            '–µ–¥–∞': ['–∫—É—à–∞—Ç—å', '–ø–µ—Ä–µ–∫—É—Å–∏—Ç—å', '–æ–±–µ–¥', '—É–∂–∏–Ω', '–∑–∞–≤—Ç—Ä–∞–∫'],
            '–∫–∏–Ω–æ': ['—Ñ–∏–ª—å–º', '—Å–µ—Ä–∏–∞–ª', '–ø—Ä–æ—Å–º–æ—Ç—Ä', '–∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä'],
            '–∫–Ω–∏–≥–∞': ['—á–∏—Ç–∞—Ç—å', '–ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '—Ä–æ–º–∞–Ω', '—Ä–∞—Å—Å–∫–∞–∑'],
            '–º—É–∑—ã–∫–∞': ['–ø–µ—Å–Ω—è', '—Ç—Ä–µ–∫', '–∞–ª—å–±–æ–º', '–∫–æ–Ω—Ü–µ—Ä—Ç']
        };

        // –ò–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
        const invertedIndex = {};
        Object.entries(synonymMap).forEach(([mainWord, synonyms]) => {
            invertedIndex[mainWord] = mainWord;
            synonyms.forEach(syn => {
                invertedIndex[syn] = mainWord;
            });
        });

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        const state = {
            notes: [],
            searchResults: [],
            isSoundEnabled: true,
            hasPlayedWelcome: false
        };

        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        const elements = {
            searchInput: document.getElementById('searchInput'),
            searchButton: document.getElementById('searchButton'),
            resultsContainer: document.getElementById('resultsContainer'),
            notesGrid: document.getElementById('notesGrid'),
            resultsCount: document.getElementById('resultsCount'),
            clearResults: document.getElementById('clearResults'),
            newNoteInput: document.getElementById('newNoteInput'),
            addNoteButton: document.getElementById('addNoteButton'),
            soundToggle: document.getElementById('soundToggle'),
            wowContainer: document.getElementById('wowContainer')
        };

        // –ê—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç—ã
        const audioElements = {
            search: document.getElementById('searchSound'),
            success: document.getElementById('successSound'),
            note: document.getElementById('noteSound')
        };

        // ============================================
        // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø
        // ============================================
        
        document.addEventListener('DOMContentLoaded', function() {
            initApp();
        });

        function initApp() {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–º–µ—Ç–æ–∫
            loadNotes();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–≤—É–∫–∞
            initSoundSystem();
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
            setupEventListeners();
            
            // –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ-–¥–µ–º–æ
            setTimeout(autoDemo, 1500);
            
            // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –≥–æ–ª–æ—Å–æ–º
            if (!state.hasPlayedWelcome) {
                setTimeout(playWelcomeVoice, 1500);
                state.hasPlayedWelcome = true;
            }
        }

        // ============================================
        // –°–ò–°–¢–ï–ú–ê –ó–í–£–ö–ê
        // ============================================
        
        function initSoundSystem() {
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Web Audio API
            if (!window.AudioContext && !window.webkitAudioContext) {
                console.warn('Web Audio API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
                elements.soundToggle.style.display = 'none';
                state.isSoundEnabled = false;
                return;
            }
            
            // –°–æ–∑–¥–∞–µ–º –±–∞–∑–æ–≤—ã–µ –∑–≤—É–∫–∏
            createSoundEffects();
            
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–≤—É–∫–∞
            const savedSoundSetting = localStorage.getItem('aurora-sound-enabled');
            if (savedSoundSetting !== null) {
                state.isSoundEnabled = savedSoundSetting === 'true';
            }
            
            updateSoundToggle();
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∑–≤—É–∫–∞
            elements.soundToggle.addEventListener('click', toggleSound);
        }

        function createSoundEffects() {
            // –ü—Ä–æ—Å—Ç—ã–µ –∑–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã —á–µ—Ä–µ–∑ Web Audio API
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                
                // –ó–≤—É–∫ –ø–æ–∏—Å–∫–∞
                createBeepSound(audioContext, 800, 0.1, audioElements.search);
                
                // –ó–≤—É–∫ —É—Å–ø–µ—Ö–∞
                createBeepSound(audioContext, 1200, 0.2, audioElements.success);
                
                // –ó–≤—É–∫ –∑–∞–º–µ—Ç–∫–∏
                createBeepSound(audioContext, 600, 0.15, audioElements.note);
                
            } catch (error) {
                console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –∑–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã:', error);
            }
        }

        function createBeepSound(audioContext, frequency, duration, audioElement) {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = frequency;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        }

        function playSound(soundType) {
            if (!state.isSoundEnabled) return;
            
            try {
                const audio = audioElements[soundType];
                if (audio) {
                    audio.currentTime = 0;
                    audio.play().catch(e => console.debug('Sound play prevented:', e));
                }
            } catch (error) {
                console.debug('Sound error:', error);
            }
        }

        function toggleSound() {
            state.isSoundEnabled = !state.isSoundEnabled;
            localStorage.setItem('aurora-sound-enabled', state.isSoundEnabled);
            updateSoundToggle();
            
            // –¢–µ—Å—Ç–æ–≤—ã–π –∑–≤—É–∫ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏
            if (state.isSoundEnabled) {
                playSound('success');
            }
        }

        function updateSoundToggle() {
            if (state.isSoundEnabled) {
                elements.soundToggle.innerHTML = 'üîä';
                elements.soundToggle.classList.remove('muted');
                elements.soundToggle.title = '–ó–≤—É–∫ –≤–∫–ª—é—á–µ–Ω (–∫–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –≤—ã–∫–ª—é—á–µ–Ω–∏—è)';
            } else {
                elements.soundToggle.innerHTML = 'üîà';
                elements.soundToggle.classList.add('muted');
                elements.soundToggle.title = '–ó–≤—É–∫ –≤—ã–∫–ª—é—á–µ–Ω (–∫–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è)';
            }
        }

        // ============================================
        // –ì–û–õ–û–°–û–í–û–ï –ü–†–ò–í–ï–¢–°–¢–í–ò–ï
        // ============================================
        
        function playWelcomeVoice() {
            if (!state.isSoundEnabled) return;
            
            if ('speechSynthesis' in window) {
                // –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ –≥–æ–ª–æ—Å–æ–≤
                setTimeout(() => {
                    const voices = speechSynthesis.getVoices();
                    const russianVoice = voices.find(voice => 
                        voice.lang.includes('ru') || voice.lang.includes('RU')
                    );
                    
                    const welcomeMessage = new SpeechSynthesisUtterance(
                        "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Aurora. –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —É—é—Ç–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –í–∞—à–∏ –º—ã—Å–ª–∏ ‚Äî —Ç–æ–ª—å–∫–æ –≤–∞—à–∏."
                    );
                    
                    welcomeMessage.lang = 'ru-RU';
                    welcomeMessage.rate = 0.9;
                    welcomeMessage.pitch = 1.0;
                    welcomeMessage.volume = 1.0;
                    
                    if (russianVoice) {
                        welcomeMessage.voice = russianVoice;
                    }
                    
                    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ª—é–±—ã–µ —Ç–µ–∫—É—â–∏–µ —Ä–µ—á–∏
                    speechSynthesis.cancel();
                    
                    // –ü—Ä–æ–∏–∑–Ω–æ—Å–∏–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
                    speechSynthesis.speak(welcomeMessage);
                    
                }, 500);
            }
        }

        // ============================================
        // WOW-–≠–§–§–ï–ö–¢–´ –ò –ê–ù–ò–ú–ê–¶–ò–ò
        // ============================================
        
        function createConfetti(count = 100) {
            const colors = ['#6366f1', '#8b5cf6', '#06b6d4', '#10b981', '#f59e0b'];
            
            for (let i = 0; i < count; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                
                // –°–ª—É—á–∞–π–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
                const size = Math.random() * 10 + 5;
                const color = colors[Math.floor(Math.random() * colors.length)];
                const left = Math.random() * 100;
                const animationDuration = Math.random() * 3 + 2;
                
                // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å—Ç–∏–ª–∏
                confetti.style.width = `${size}px`;
                confetti.style.height = `${size}px`;
                confetti.style.backgroundColor = color;
                confetti.style.left = `${left}vw`;
                confetti.style.top = '-20px';
                confetti.style.animationDuration = `${animationDuration}s`;
                confetti.style.animationDelay = `${Math.random() * 0.5}s`;
                
                // –§–æ—Ä–º–∞
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                
                // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
                elements.wowContainer.appendChild(confetti);
                
                // –£–¥–∞–ª—è–µ–º –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                setTimeout(() => {
                    if (confetti.parentNode) {
                        confetti.parentNode.removeChild(confetti);
                    }
                }, animationDuration * 1000);
            }
        }

        function createNeonPulse(element) {
            element.classList.add('neon-glow');
            setTimeout(() => {
                element.classList.remove('neon-glow');
            }, 2000);
        }

        function triggerWowEffects() {
            // –ö–æ–Ω—Ñ–µ—Ç—Ç–∏
            createConfetti(150);
            
            // –ù–µ–æ–Ω–æ–≤—ã–µ –∏–º–ø—É–ª—å—Å—ã
            createNeonPulse(elements.searchButton);
            setTimeout(() => createNeonPulse(document.querySelector('.header h1')), 300);
            setTimeout(() => createNeonPulse(elements.addNoteButton), 600);
            
            // –ó–≤—É–∫
            playSound('success');
        }

        // ============================================
        // –°–ò–°–¢–ï–ú–ê –ó–ê–ú–ï–¢–û–ö
        // ============================================
        
        function loadNotes() {
            const savedNotes = localStorage.getItem('aurora-notes');
            
            if (savedNotes) {
                state.notes = JSON.parse(savedNotes);
            } else {
                // –î–µ–º–æ –∑–∞–º–µ—Ç–∫–∏
                state.notes = [
                    {
                        id: 1,
                        text: "–ö—É–ø–∏—Ç—å –ø–∏–≤–æ –Ω–∞ –≤–µ—á–µ—Ä",
                        tags: ["–ø–∏–≤–æ", "–∞–ª–∫–æ–≥–æ–ª—å"],
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: 2,
                        text: "–ü–æ–π—Ç–∏ –≥—É–ª—è—Ç—å –≤ –ø–∞—Ä–∫ –≤–µ—á–µ—Ä–æ–º",
                        tags: ["–≥—É–ª—è—Ç—å", "–ø–∞—Ä–∫"],
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: 3,
                        text: "–ü—Ä–∏–æ–±—Ä–µ—Å—Ç–∏ –±—É—Ç—ã–ª–∫—É –∫—Ä–∞—Å–Ω–æ–≥–æ –≤–∏–Ω–∞ –Ω–∞ –ø—Ä–∞–∑–¥–Ω–∏–∫",
                        tags: ["–≤–∏–Ω–æ", "–∞–ª–∫–æ–≥–æ–ª—å", "–ø—Ä–∞–∑–¥–Ω–∏–∫"],
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: 4,
                        text: "–°—Ö–æ–¥–∏—Ç—å –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –≤ —Å–ø–æ—Ä—Ç–∑–∞–ª",
                        tags: ["—Å–ø–æ—Ä—Ç", "—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞"],
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: 5,
                        text: "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–æ–≤—ã–π —Ñ–∏–ª—å–º –ø—Ä–æ –∫–æ—Å–º–æ—Å",
                        tags: ["–∫–∏–Ω–æ", "—Ñ–∏–ª—å–º"],
                        createdAt: new Date().toISOString()
                    }
                ];
                saveNotes();
            }
        }

        function saveNotes() {
            localStorage.setItem('aurora-notes', JSON.stringify(state.notes));
        }

        function addNote(text) {
            if (!text.trim()) return;
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–≥–æ–≤
            const tags = extractTags(text);
            
            const newNote = {
                id: Date.now(),
                text: text.trim(),
                tags: tags,
                createdAt: new Date().toISOString()
            };
            
            state.notes.unshift(newNote);
            saveNotes();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            if (state.searchResults.length > 0) {
                performSearch(elements.searchInput.value);
            }
            
            // –≠—Ñ—Ñ–µ–∫—Ç—ã
            playSound('note');
            showNotification('–ó–∞–º–µ—Ç–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!');
            
            // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
            elements.newNoteInput.value = '';
            
            // WOW-—ç—Ñ—Ñ–µ–∫—Ç
            createNeonPulse(elements.addNoteButton);
        }

        function extractTags(text) {
            const tags = [];
            const words = text.toLowerCase().split(/\s+/);
            
            words.forEach(word => {
                // –û—á–∏—â–∞–µ–º —Å–ª–æ–≤–æ –æ—Ç –∑–Ω–∞–∫–æ–≤ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è
                const cleanWord = word.replace(/[.,!?;:]/g, '');
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤ –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∏–Ω–¥–µ–∫—Å–µ
                if (invertedIndex[cleanWord]) {
                    const mainTag = invertedIndex[cleanWord];
                    if (!tags.includes(mainTag)) {
                        tags.push(mainTag);
                    }
                }
                
                // –¢–∞–∫–∂–µ –¥–æ–±–∞–≤–ª—è–µ–º —Å–∞–º–æ —Å–ª–æ–≤–æ –µ—Å–ª–∏ –æ–Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª–∏–Ω–Ω–æ–µ
                if (cleanWord.length > 3 && !tags.includes(cleanWord)) {
                    tags.push(cleanWord);
                }
            });
            
            return tags.slice(0, 5); // –ú–∞–∫—Å–∏–º—É–º 5 —Ç–µ–≥–æ–≤
        }

        // ============================================
        // –£–ú–ù–´–ô –ü–û–ò–°–ö
        // ============================================
        
        function performSearch(query) {
            if (!query.trim()) {
                clearResults();
                return;
            }
            
            playSound('search');
            elements.searchButton.classList.add('searching');
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è UX
            setTimeout(() => {
                const searchQuery = query.toLowerCase().trim();
                const searchWords = searchQuery.split(/\s+/);
                
                const results = state.notes.filter(note => {
                    let score = 0;
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
                    if (note.text.toLowerCase().includes(searchQuery)) {
                        score += 10;
                    }
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–ª–æ–≤–∞–º
                    searchWords.forEach(word => {
                        if (note.text.toLowerCase().includes(word)) {
                            score += 5;
                        }
                        
                        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω–æ–Ω–∏–º–æ–≤
                        if (invertedIndex[word]) {
                            const mainWord = invertedIndex[word];
                            if (note.tags.includes(mainWord)) {
                                score += 8;
                            }
                        }
                        
                        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–≥–æ–≤
                        if (note.tags.includes(word)) {
                            score += 7;
                        }
                    });
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–≥–æ–≤ –Ω–∞ —Å–∏–Ω–æ–Ω–∏–º—ã
                    note.tags.forEach(tag => {
                        if (invertedIndex[tag] && searchWords.includes(invertedIndex[tag])) {
                            score += 6;
                        }
                    });
                    
                    note.searchScore = score;
                    return score > 0;
                });
                
                // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
                results.sort((a, b) => b.searchScore - a.searchScore);
                
                state.searchResults = results;
                displayResults(results);
                
                elements.searchButton.classList.remove('searching');
                playSound('success');
                
                // WOW-—ç—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
                if (results.length > 0) {
                    createConfetti(50);
                    showNotification(`–ù–∞–π–¥–µ–Ω–æ ${results.length} –∑–∞–º–µ—Ç–æ–∫`);
                }
                
            }, 300);
        }

        function displayResults(results) {
            elements.notesGrid.innerHTML = '';
            elements.resultsCount.textContent = `${results.length} ${pluralize(results.length, ['—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ', '—Å–æ–≤–ø–∞–¥–µ–Ω–∏—è', '—Å–æ–≤–ø–∞–¥–µ–Ω–∏–π'])}`;
            
            if (results.length === 0) {
                elements.notesGrid.innerHTML = `
                    <div class="note-card" style="text-align: center; padding: 40px;">
                        <h3>–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</h3>
                        <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —Å–ª–æ–≤–∞ –∏–ª–∏ —Å–∏–Ω–æ–Ω–∏–º—ã</p>
                        <div style="margin-top: 20px;">
                            <button onclick="showAllNotes()" style="padding: 10px 20px; background: var(--primary); color: white; border: none; border-radius: 8px; cursor: pointer;">
                                –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∑–∞–º–µ—Ç–∫–∏
                            </button>
                        </div>
                    </div>
                `;
            } else {
                results.forEach((note, index) => {
                    const noteElement = createNoteCard(note, index);
                    elements.notesGrid.appendChild(noteElement);
                });
            }
            
            elements.resultsContainer.classList.add('show');
            
            // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤
            setTimeout(highlightMatches, 100);
        }

        function createNoteCard(note, index) {
            const card = document.createElement('div');
            card.className = 'note-card';
            card.style.animationDelay = `${index * 0.1}s`;
            card.style.opacity = '0';
            card.style.animation = 'matchHighlight 0.6s ease forwards';
            
            // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã
            const date = new Date(note.createdAt);
            const formattedDate = date.toLocaleDateString('ru-RU', {
                day: 'numeric',
                month: 'long',
                year: 'numeric'
            });
            
            // –¢–µ–≥–∏
            const tagsHTML = note.tags.map(tag => {
                const isHighlighted = elements.searchInput.value.toLowerCase().includes(tag) ||
                                    (invertedIndex[tag] && elements.searchInput.value.toLowerCase().includes(invertedIndex[tag]));
                return `<span class="tag ${isHighlighted ? 'highlight' : ''}">${tag}</span>`;
            }).join('');
            
            card.innerHTML = `
                <div class="note-text">${highlightText(note.text, elements.searchInput.value)}</div>
                <div class="note-tags">${tagsHTML}</div>
                <div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-secondary);">
                    <small>–°–æ–∑–¥–∞–Ω–æ: ${formattedDate}</small>
                    ${note.searchScore ? `<small style="margin-left: 15px; color: var(--accent);">–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å: ${note.searchScore}</small>` : ''}
                </div>
            `;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
            setTimeout(() => {
                card.style.opacity = '1';
            }, index * 100);
            
            return card;
        }

        function highlightText(text, query) {
            if (!query) return text;
            
            const words = query.toLowerCase().split(/\s+/);
            let highlighted = text;
            
            words.forEach(word => {
                if (word.length < 2) return;
                
                // –ü—Ä—è–º–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
                const regex = new RegExp(`(${word})`, 'gi');
                highlighted = highlighted.replace(regex, '<mark style="background: rgba(6, 182, 212, 0.3); padding: 2px 0; border-radius: 3px;">$1</mark>');
                
                // –°–∏–Ω–æ–Ω–∏–º—ã
                if (invertedIndex[word]) {
                    const mainWord = invertedIndex[word];
                    const synonyms = synonymMap[mainWord] || [];
                    
                    synonyms.forEach(syn => {
                        const synRegex = new RegExp(`(${syn})`, 'gi');
                        highlighted = highlighted.replace(synRegex, '<mark style="background: rgba(139, 92, 246, 0.3); padding: 2px 0; border-radius: 3px;">$1</mark>');
                    });
                }
            });
            
            return highlighted;
        }

        function highlightMatches() {
            const query = elements.searchInput.value.toLowerCase();
            if (!query) return;
            
            document.querySelectorAll('.note-text').forEach(element => {
                const text = element.textContent;
                element.innerHTML = highlightText(text, query);
            });
        }

        function clearResults() {
            state.searchResults = [];
            elements.notesGrid.innerHTML = '';
            elements.resultsCount.textContent = '0 —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π';
            elements.resultsContainer.classList.remove('show');
            elements.searchInput.value = '';
            elements.searchInput.focus();
        }

        function showAllNotes() {
            state.searchResults = [...state.notes];
            displayResults(state.notes);
            elements.searchInput.value = '';
            showNotification('–ü–æ–∫–∞–∑–∞–Ω—ã –≤—Å–µ –∑–∞–º–µ—Ç–∫–∏');
            createConfetti(30);
        }

        // ============================================
        // –î–ï–ú–û-–§–£–ù–ö–¶–ò–ò
        // ============================================
        
        function autoDemo() {
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ—Å–µ—â–µ–Ω–∏–∏
            const firstVisit = !localStorage.getItem('aurora-first-visit');
            
            if (firstVisit) {
                localStorage.setItem('aurora-first-visit', 'true');
                
                // –ê–≤—Ç–æ-–≤–≤–æ–¥ –¥–µ–º–æ –∑–∞–ø—Ä–æ—Å–∞
                setTimeout(() => {
                    elements.searchInput.value = '–ø–æ–π–¥—É –≥—É–ª—è—Ç—å';
                    elements.searchInput.focus();
                    
                    // –ê–≤—Ç–æ-–ø–æ–∏—Å–∫
                    setTimeout(() => {
                        performSearch('–ø–æ–π–¥—É –≥—É–ª—è—Ç—å');
                        
                        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É
                        setTimeout(() => {
                            showNotification('–°–∏—Å—Ç–µ–º–∞ –ø–æ–Ω–∏–º–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º—ã —Å–ª–æ–≤! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ "–∞–ª–∫–æ–≥–æ–ª—å"', 5000);
                        }, 1000);
                    }, 800);
                }, 2000);
            }
        }

        function demoSearch(query) {
            elements.searchInput.value = query;
            elements.searchInput.focus();
            performSearch(query);
        }

        // ============================================
        // –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò
        // ============================================
        
        function setupEventListeners() {
            // –ü–æ–∏—Å–∫ –ø–æ Enter
            elements.searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    performSearch(elements.searchInput.value);
                }
            });
            
            // –ö–Ω–æ–ø–∫–∞ –ø–æ–∏—Å–∫–∞
            elements.searchButton.addEventListener('click', () => {
                performSearch(elements.searchInput.value);
            });
            
            // –û—á–∏—Å—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            elements.clearResults.addEventListener('click', clearResults);
            
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏ –ø–æ Enter
            elements.newNoteInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && e.ctrlKey) {
                    addNote(elements.newNoteInput.value);
                }
            });
            
            // –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏
            elements.addNoteButton.addEventListener('click', () => {
                addNote(elements.newNoteInput.value);
            });
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø—Ä–∏ –≤–≤–æ–¥–µ (—Å –∑–∞–¥–µ—Ä–∂–∫–æ–π)
            let searchTimeout;
            elements.searchInput.addEventListener('input', (e) => {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    if (e.target.value.length >= 2) {
                        performSearch(e.target.value);
                    } else if (e.target.value.length === 0) {
                        clearResults();
                    }
                }, 300);
            });
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ
            elements.searchInput.addEventListener('focus', () => {
                document.querySelector('.search-container').classList.add('neon-glow');
            });
            
            elements.searchInput.addEventListener('blur', () => {
                document.querySelector('.search-container').classList.remove('neon-glow');
            });
        }

        function showNotification(message, duration = 3000) {
            // –°–æ–∑–¥–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%) translateY(-100px);
                background: var(--surface);
                color: var(--text);
                padding: 15px 25px;
                border-radius: 12px;
                border: 1px solid var(--accent);
                box-shadow: 0 5px 25px rgba(0,0,0,0.3);
                z-index: 10000;
                opacity: 0;
                transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                display: flex;
                align-items: center;
                gap: 10px;
            `;
            
            notification.innerHTML = `
                <span style="color: var(--accent); font-size: 1.2rem;">‚ú®</span>
                <span>${message}</span>
            `;
            
            document.body.appendChild(notification);
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
            setTimeout(() => {
                notification.style.transform = 'translateX(-50%) translateY(0)';
                notification.style.opacity = '1';
            }, 10);
            
            // –ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ
            setTimeout(() => {
                notification.style.transform = 'translateX(-50%) translateY(-100px)';
                notification.style.opacity = '0';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, duration);
        }

        function pluralize(number, forms) {
            const cases = [2, 0, 1, 1, 1, 2];
            return forms[(number % 100 > 4 && number % 100 < 20) ? 2 : cases[(number % 10 < 5) ? number % 10 : 5]];
        }

        // ============================================
        // –ì–õ–û–ë–ê–õ–¨–ù–´–ô –≠–ö–°–ü–û–†–¢ –§–£–ù–ö–¶–ò–ô
        // ============================================
        
        window.demoSearch = demoSearch;
        window.showAllNotes = showAllNotes;
        window.triggerWowEffects = triggerWowEffects;
        window.performSearch = performSearch;
        window.clearResults = clearResults;
        window.addNote = addNote;

        console.log('üåå Aurora WOW Edition 4.1 –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!');
        console.log('üîä –ì–æ–ª–æ—Å–æ–≤–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ');
        console.log('üé™ WOW-—ç—Ñ—Ñ–µ–∫—Ç—ã –≥–æ—Ç–æ–≤—ã');
        console.log('üîç –£–º–Ω—ã–π –ø–æ–∏—Å–∫ —Å —Å–∏–Ω–æ–Ω–∏–º–∞–º–∏ –≤–∫–ª—é—á–µ–Ω');

    </script>
</body>
</html>
